<!-- 
Name: Zaryab Khan
Student ID: 100851100
Date: 21 November 2023
Description: An HTML file containing CSS and JavaScript drives a " Silly Story Generator".
Funny stories are dynamically created by substituting random pieces for placeholders. 
In addition, the script allows users to personalize stories by changing names and 
units between US and UK systems.

-->

<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />

    <title>Silly story generator</title>

    <style>
      body {
        font-family: helvetica, sans-serif;
        width: 350px;
      }

      label {
        font-weight: bold;
      }

      div {
        padding-bottom: 20px;
      }

      input[type="text"] {
        padding: 5px;
        width: 150px;
      }

      p {
        background: #ffc125;
        color: #5e2612;
        padding: 10px;
        visibility: hidden;
      }
    </style>
  </head>

  <body>
    <div>
      <label for="customname">Enter custom name:</label>
      <input id="customname" type="text" placeholder="" />
    </div>
    <div>
      <label for="us">US</label
      ><input id="us" type="radio" name="ukus" value="us" checked />
      <label for="uk">UK</label
      ><input id="uk" type="radio" name="ukus" value="uk" />
    </div>
    <div>
      <button class="randomize">Generate random story</button>
    </div>
    <!-- Thanks a lot to Willy Aguirre for his help with the code for this assessment -->
    <p class="story"></p>


    <script>

 //1.  COMPLETE VARIABLE AND FUNCTION DEFINITIONS 


const customName = document.getElementById('customname');
const randomize = document.querySelector('.randomize');
const story = document.querySelector('.story');

function randomValueFromArray(array){
  const random = Math.floor(Math.random()*array.length);
  return array[random];
}

 // 2. RAW TEXT STRINGS

 function result() {
   let newStory =  'It was 94 fahrenheit outside, so :insertx: went for a walk. When they got to :inserty:, they stared in horror for a few moments, then :insertz:. Bob saw the whole thing, but was not surprised â€” :insertx: weighs 300 pounds, and it was a hot day. '

const insertX =['Willy the Goblin', 'Big Daddy' , 'Father Christmas'];
const insertY = ['the soup kitchen',  'Disneyland' , 'the White House'];
const insertZ = ['spontaneously combusted' , 'melted into a puddle on the sidewalk' , 'turned into a slug and crawled away'];

newStory = newStory.replace(':insertx:', randomValueFromArray(insertX));
newStory = newStory.replace(':insertx:' , randomValueFromArray(insertX));
newStory = newStory.replace(':inserty:' , randomValueFromArray(insertY));
newStory = newStory.replace(':insertz:' , randomValueFromArray(insertZ));


// 3. EVENT LISTENER AND PARTIAL FUNCTION DEFINITION





  if(customName.value !== '') {
    const name = customName.value;
newStory = newStory.replace('Bob' , name);
  }

  if(document.getElementById("uk").checked) {
    const weight = Math.round(300 * 0.0714286) + 'stone';
    const temperature =  Math.round((94 - 32) * 5/ 9) + 'centigrade';

    newStory = newStory.replace('94 fahrenheit' , temperature) ,
    newStory = newStory.replace('300 pounds' , weight) ;

  }

  story.textContent = newStory ;
  story.style.visibility = 'visible';

}
randomize.addEventListener('click', result);
    </script>
  </body>
</html>
